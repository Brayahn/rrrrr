[
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "html, body {\n    width: 8.5in;\n    height: 5.5in;\n    display: block;\n    font-family: \"Calibri\";\n    font-size: auto;\n  }",
  "custom_format": 0,
  "default_print_language": "en-US",
  "disabled": 0,
  "doc_type": "Student",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Calibri",
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"\\n<div class=\\\"print-heading\\\">\\n    <h5><span class=\\\"sub-heading\\\">\\n    Fees Payment Receipt Student Name: {{ doc.first_name }} {{ doc.middle_name }} {{ doc.last_name }} - {{doc.name}}\\n        </span></h5></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n{% set fees = frappe.get_all('Fees', filters={'student': doc.name,'docstatus':1 }, fields=['name','program','grand_total']) %}\\n<br><br>\\n{% for fee in fees %}\\n{% set ns=namespace(total=0)%}\\n<b>{{fee.program}} Invoice {{fee.name}} As At {{ frappe.utils.today() }} </b><br>\\n \\n<table style=\\\"font-size:small\\\">\\n<tr>\\n    <th>Paid Amount</th>\\n    <th>Balance B/f</th>\\n    <th>Paid on</th>\\n    <th>Ref</th>\\n    </tr>\\n {% set payment_references = frappe.get_all('Payment Entry Reference', filters={'reference_name': fee.name,'docstatus':1 }, fields=['reference_name','total_amount','outstanding_amount','allocated_amount','creation','parent']) %}\\n{%for payment_reference in payment_references%}\\n\\n{% set ns.total=ns.total+payment_reference.allocated_amount |float %}\\n\\n<tr>    \\n    <td>Ksh. {{payment_reference.allocated_amount}}</td>\\n    <td>Ksh. {{fee.grand_total -ns.total|float}}</td>\\n    <td>{{payment_reference.creation.strftime(\\\"%Y-%m-%d %H:%M:%S\\\")}}</td>\\n    <td>{{payment_reference.parent}}</td>\\n</tr>\\n{%endfor%}\\n<tr>\\n    <td></td>\\n    <td></td>\\n    <td></td>\\n    <td></td>\\n</tr>\\n</table>\\n<b></b><br>\\n{%endfor%}\\n\\n \\n\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n<p>Served By:  {{ frappe.session.user }},Money Once Payed Is Not Refundable.   With thanks ...........................</p>\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 2.0,
  "margin_left": 2.0,
  "margin_right": 2.0,
  "margin_top": 2.0,
  "modified": "2025-12-18 18:17:31.058575",
  "module": "Education",
  "name": "full student statement from fees",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "html, body {\n    width: 8.5in;\n    height: 5.5in;\n    display: block;\n    font-family: \"Calibri\";\n    font-size: auto;\n  }",
  "custom_format": 0,
  "default_print_language": "en-US",
  "disabled": 0,
  "doc_type": "Student",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Calibri",
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"\\n<div class=\\\"print-heading\\\">\\n    <h5><span class=\\\"sub-heading\\\">\\n    Fees Payment Receipt Student Name: {{ doc.first_name }} {{ doc.middle_name }} {{ doc.last_name }} - {{doc.name}}\\n    <br>Statement Period: {{ frappe.form_dict.from_date or 'All' }} to {{ frappe.form_dict.to_date or 'All' }}\\n        </span></h5></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n{% set from_date = frappe.form_dict.from_date %}\\n{% set to_date = frappe.form_dict.to_date %}\\n{% if from_date and to_date %}\\n    {% set fees = frappe.get_all('Fees', filters={'student': doc.name, 'docstatus': 1, 'posting_date': ['between', [from_date, to_date]]}, fields=['name','program','grand_total','posting_date']) %}\\n{% else %}\\n    {% set fees = frappe.get_all('Fees', filters={'student': doc.name, 'docstatus': 1}, fields=['name','program','grand_total','posting_date']) %}\\n{% endif %}\\n<br><br>\\n{% for fee in fees %}\\n{% set ns=namespace(total=0)%}\\n<b>{{fee.program}} Invoice {{fee.name}} ({{fee.posting_date}}) As At {{ frappe.utils.today() }} </b><br>\\n \\n<table style=\\\"font-size:small\\\">\\n<tr>\\n    <th>Paid Amount</th>\\n    <th>Balance B/f</th>\\n    <th>Paid on</th>\\n    <th>Ref</th>\\n    </tr>\\n{% if from_date and to_date %}\\n    {% set payment_references = frappe.get_all('Payment Entry Reference', filters={'reference_name': fee.name, 'docstatus': 1}, fields=['reference_name','total_amount','outstanding_amount','allocated_amount','creation','parent'], order_by='creation asc') %}\\n    {% set filtered_payments = [] %}\\n    {% for pr in payment_references %}\\n        {% if pr.creation.strftime('%Y-%m-%d') >= from_date and pr.creation.strftime('%Y-%m-%d') <= to_date %}\\n            {% set _ = filtered_payments.append(pr) %}\\n        {% endif %}\\n    {% endfor %}\\n    {% set payment_references = filtered_payments %}\\n{% else %}\\n    {% set payment_references = frappe.get_all('Payment Entry Reference', filters={'reference_name': fee.name, 'docstatus': 1}, fields=['reference_name','total_amount','outstanding_amount','allocated_amount','creation','parent'], order_by='creation asc') %}\\n{% endif %}\\n{%for payment_reference in payment_references%}\\n\\n{% set ns.total=ns.total+payment_reference.allocated_amount |float %}\\n\\n<tr>    \\n    <td>Ksh. {{payment_reference.allocated_amount}}</td>\\n    <td>Ksh. {{fee.grand_total -ns.total|float}}</td>\\n    <td>{{payment_reference.creation.strftime(\\\"%Y-%m-%d %H:%M:%S\\\")}}</td>\\n    <td>{{payment_reference.parent}}</td>\\n</tr>\\n{%endfor%}\\n<tr>\\n    <td></td>\\n    <td></td>\\n    <td></td>\\n    <td></td>\\n</tr>\\n</table>\\n<b></b><br>\\n{%endfor%}\\n\\n \\n\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n<p>Served By:  {{ frappe.session.user }},Money Once Payed Is Not Refundable.   With thanks ...........................</p>\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 2.0,
  "margin_left": 2.0,
  "margin_right": 2.0,
  "margin_top": 2.0,
  "modified": "2025-12-18 18:43:17.184659",
  "module": "Education",
  "name": "Fees Statement with Date Range",
  "page_number": "Hide",
  "pdf_generator": "wkhtmltopdf",
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": "DocType",
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 0,
  "default_print_language": "en-US",
  "disabled": 0,
  "doc_type": "Fees",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<br><br>\\n<div class=\\\"print-heading\\\">\\n    <h4>Fees Payment Reciept</h4>\\n    <h5><span class=\\\"sub-heading\\\">\\n     Student Name:  {{ doc.student_name}}-{{ doc.student_name}} - {{ doc.program}}-{{ doc.academic_year}}\\n        </span></h5></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"grand_total\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Balance b/f\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<p><b>Amount Recieved : </b><span style=\\\"\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Sh  {{ doc.grand_total - doc.outstanding_amount}}</span></p>\"}, {\"fieldname\": \"outstanding_amount\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Balance /cf\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<p><b>Payment Of : </b><span style=\\\"\\\">&nbsp;  {{ doc}}</span></p>\\n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n<p>Served By:  {{ frappe.session.user }},Money Once Payed Is Not Refundable.   With thanks ...........................</p>\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 2.0,
  "margin_left": 2.0,
  "margin_right": 2.0,
  "margin_top": 2.0,
  "modified": "2024-01-22 12:19:57.019273",
  "module": "Education",
  "name": "fees reciept print",
  "page_number": "Hide",
  "pdf_generator": null,
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 0,
  "default_print_language": "en-US",
  "disabled": 0,
  "doc_type": "Fees",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<br><br>\\n<div class=\\\"print-heading\\\">\\n    <h6><div>Fees Payment Reciept</div><br><span class=\\\"sub-heading\\\">\\n     Student Name:  {{ doc.student_name}}-{{ doc.student_name}} - {{ doc.program}}-{{ doc.academic_year}}\\n        </span></h6></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"grand_total\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Balance b/f\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<p><b>Amount Recieved : </b><span style=\\\"\\\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;Sh  {{ doc.grand_total - doc.outstanding_amount}}</span></p>\"}, {\"fieldname\": \"outstanding_amount\", \"print_hide\": 0, \"align\": \"left\", \"label\": \"Balance /cf\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<p><b>Payment Of : </b><span style=\\\"\\\">&nbsp;  {{ doc}}</span></p>\\n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n<p>Served By:  {{ frappe.session.user }},Money Once Payed Is Not Refundable.   With thanks ...........................</p>\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 2.0,
  "margin_left": 2.0,
  "margin_right": 2.0,
  "margin_top": 2.0,
  "modified": "2024-01-19 16:05:39.437972",
  "module": "Education",
  "name": "fees payment print-paym-ententry",
  "page_number": "Hide",
  "pdf_generator": null,
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": "html, body {\n    width: 8.5in;\n    height: 5.5in;\n    display: block;\n    font-family: \"Calibri\";\n    font-size: auto;\n  }",
  "custom_format": 0,
  "default_print_language": "en-US",
  "disabled": 0,
  "doc_type": "Student",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": "Calibri",
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"\\n<div class=\\\"print-heading\\\">\\n    <h5><span class=\\\"sub-heading\\\">\\n    Fees Payment Receipt Student Name: {{ doc.first_name }} {{ doc.middle_name }} {{ doc.last_name }} - {{doc.name}}\\n        </span></h5></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n{% set fees = frappe.get_all('Fees', filters={'student': doc.name,'docstatus':1 }, fields=['name','program','grand_total']) %}\\n<br><br>\\n{% for fee in fees %}\\n{% set ns=namespace(total=0)%}\\n<b>{{fee.program}} Invoice {{fee.name}} As At {{ frappe.utils.today() }} </b><br>\\n \\n<table style=\\\"font-size:small\\\">\\n<tr>\\n    <th>Paid Amount</th>\\n    <th>Balance B/f</th>\\n    <th>Paid on</th>\\n    <th>Ref</th>\\n    </tr>\\n {% set payment_references = frappe.get_all('Payment Entry Reference', filters={'reference_name': fee.name,'docstatus':1 }, fields=['reference_name','total_amount','outstanding_amount','allocated_amount','creation','parent']) %}\\n{%for payment_reference in payment_references%}\\n\\n{% set ns.total=ns.total+payment_reference.allocated_amount |float %}\\n\\n<tr>    \\n    <td>Ksh. {{payment_reference.allocated_amount}}</td>\\n    <td>Ksh. {{fee.grand_total -ns.total|float}}</td>\\n    <td>{{payment_reference.creation.strftime(\\\"%Y-%m-%d %H:%M:%S\\\")}}</td>\\n    <td>{{payment_reference.parent}}</td>\\n</tr>\\n{%endfor%}\\n<tr>\\n    <td></td>\\n    <td></td>\\n    <td></td>\\n    <td></td>\\n</tr>\\n</table>\\n<b></b><br>\\n{%endfor%}\\n\\n \\n\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n<p>Served By:  {{ frappe.session.user }},Money Once Payed Is Not Refundable.   With thanks ...........................</p>\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 2.0,
  "margin_left": 2.0,
  "margin_right": 2.0,
  "margin_top": 2.0,
  "modified": "2024-08-09 11:16:28.553679",
  "module": "Education",
  "name": "full student statement",
  "page_number": "Hide",
  "pdf_generator": null,
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 0,
  "default_print_language": "en-US",
  "disabled": 0,
  "doc_type": "Student",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\n    <h5><span class=\\\"sub-heading\\\">\\n    Fees Payment Receipt As At {{ frappe.utils.today() }}; Student Name: {{ doc.first_name}} {{ doc.middle_name}} {{ doc.middle_name}} \\n        </span></h5></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"first_name\", \"print_hide\": 0, \"label\": \"First Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"middle_name\", \"print_hide\": 0, \"label\": \"Middle Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"last_name\", \"print_hide\": 0, \"label\": \"Last Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"nationality\", \"print_hide\": 0, \"label\": \"Nationality\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set fees = frappe.get_all('Fees', filters={'student': doc.name, 'docstatus': 1}, fields=['name', 'program', 'grand_total']) %}\\n<br><br>\\n{% for fee in fees %}\\n    {% set ns = namespace(total=0) %}\\n    {% set payment_references = frappe.get_all('Payment Entry Reference', filters={'reference_name': fee.name, 'docstatus': 1}, fields=['reference_name', 'total_amount', 'outstanding_amount', 'allocated_amount', 'creation', 'parent']) %}\\n    {% if payment_references %}\\n    {% set latest_payment = payment_references[0] %}\\n    {% set balance_due = 0 %}\\n\\n\\n    {% if latest_payment.creation.strftime(\\\"%Y-%m-%d\\\") == frappe.utils.today() %}\\n\\n\\n    <b>{{ fee.program }} Initial Fee Amount {{ fee.grand_total }}</b><br>\\n    \\n    <table style=\\\"font-size:small\\\">\\n\\n        <tr>\\n            <th>Invoice No</th>\\n            <th>Balance B/f</th>\\n            <th>Paid Amount</th>\\n            <th>Balance C/f</th>\\n             <th>Paid on</th>\\n            <th>Ref</th>\\n        </tr>\\n\\n        {% for payment_reference in payment_references %}\\n        {% set ns.total=ns.total+payment_reference.allocated_amount |float %}\\n\\n        {% endfor %}\\n         <tr>\\n                <td>Invoice {{ fee.name }}</td>\\n                <td>Ksh. {{ fee.grand_total - ns.total +latest_payment.allocated_amount | float }}</td>\\n                <td>Ksh. {{ latest_payment.allocated_amount }}</td>\\n                <td><b>Ksh. {{ fee.grand_total - ns.total | float }}</b></td>\\n                <td>{{ latest_payment.creation.strftime(\\\"%Y-%m-%d %H:%M:%S\\\") }}</td>\\n                <td>{{ latest_payment.parent }}</td>\\n            </tr>\\n\\n        {% set ns.total=0 %}\\n\\n                <!--<tr>-->\\n                <!--    <td colspan=\\\"6\\\">No receipt payment for this student today. Please print from payment entries if it's a reprint or print the full student payment history by selecting the full student statement print format.</td>-->\\n                <!--</tr>-->\\n            {% endif %}\\n        {% else %}\\n            <tr>\\n                <td colspan=\\\"6\\\">No payment references found for this invoice.</td>\\n            </tr>\\n        {% endif %}\\n    </table>\\n\\n    <!--<b>Due Balance: Ksh. {{ fee.grand_total - ns.total | float }}</b><br><br>-->\\n{% endfor %}\\n\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n<h5>Served By:  {{ frappe.session.user }}<br>\\nMoney Once Payed Can Not Be Refunded.   With thanks ................................</h5>\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 2.0,
  "margin_left": 2.0,
  "margin_right": 2.0,
  "margin_top": 2.0,
  "modified": "2024-05-23 13:11:53.684464",
  "module": "Education",
  "name": "todays reciepts combined",
  "page_number": "Hide",
  "pdf_generator": null,
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 0,
  "default_print_language": null,
  "disabled": 0,
  "doc_type": "Student",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\n    <h5><span class=\\\"sub-heading\\\">\\n    Fees Payment Receipt As At {{ frappe.utils.today() }}; Student Name: {{ doc.first_name}} {{ doc.middle_name}} {{ doc.middle_name}} \\n        </span></h5></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"first_name\", \"print_hide\": 0, \"label\": \"First Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"middle_name\", \"print_hide\": 0, \"label\": \"Middle Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"last_name\", \"print_hide\": 0, \"label\": \"Last Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"nationality\", \"print_hide\": 0, \"label\": \"Nationality\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n{% set fees = frappe.get_all('Fees', filters={'student': doc.name,'docstatus':1 }, fields=['name','program','grand_total']) %}\\n<br><br>\\n{% for fee in fees %}\\n{% set ns=namespace(total=0)%}\\n<b>{{fee.program}} Initial Fee Amount {{fee.grand_total}} </b><br>\\n \\n<table style=\\\"font-size:small\\\">\\n<tr>\\n    <th>Invoice No</th>\\n    <th>Paid Amount</th>\\n    <th>Balance B/f</th>\\n    <th>Paid on</th>\\n    <th>Ref</th>\\n    <th>Due Balance</th>\\n    </tr>\\n {% set payment_references = frappe.get_all('Payment Entry Reference', filters={'reference_name': fee.name,'docstatus':1 }, fields=['reference_name','total_amount','outstanding_amount','allocated_amount','creation','parent']) %}\\n\\n{%for payment_reference in payment_references%}\\n\\n{% set ns.total=ns.total+payment_reference.allocated_amount |float %}\\n{%endfor%}\\n<tr>\\n  {% if payment_references[0].creation.strftime(\\\"%Y-%m-%d\\\") == frappe.utils.today()%}\\n  <td>Invoice {{fee.name}}</td>\\n   <td>Ksh. {{payment_references[0].allocated_amount}}</td>\\n    <td>Ksh. {{fee.grand_total -ns.total|float}}</td>\\n    <td>{{payment_references[0].creation.strftime(\\\"%Y-%m-%d %H:%M:%S\\\")}}</td>\\n    <td>{{payment_references[0].parent}}</td>\\n    <td><b>Ksh. {{fee.grand_total -ns.total|float}}</b>\\n</td>\\n    \\n        <!-- Display additional content or take action if payment creation date is today -->\\n    {% else %}\\n    <td></td>\\n    <td></td>\\n    <td></td>\\n    <td>No reciept payment for ths student today please print from payment entries if its a reprint or \\n    print full student payment history bu selecting full student statement print format</td>\\n\\n</tr>\\n<tr>\\n    <td></td>\\n    <td></td>\\n    <td></td>\\n    <td><b>Due Balance <br>\\n    Ksh. {{fee.grand_total -ns.total|float}}</b>\\n</td>\\n</tr>\\n    {% endif %}\\n\\n</table>\\n\\n<b></b><br>\\n{%endfor%}\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n<h5>Served By:  {{ frappe.session.user }}<br>\\nMoney Once Payed Can Not Be Refunded.   With thanks ................................</h5>\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-05-20 09:17:13.821512",
  "module": "Education",
  "name": "Test",
  "page_number": "Hide",
  "pdf_generator": null,
  "print_format_builder": 0,
  "print_format_builder_beta": 1,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 0,
  "default_print_language": "en-US",
  "disabled": 0,
  "doc_type": "Student",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\n    <h5><span class=\\\"sub-heading\\\">\\n    Fees Payment Receipt As At {{ frappe.utils.today() }}; Student Name: {{ doc.first_name}} {{ doc.middle_name}} {{ doc.middle_name}} \\n        </span></h5></div>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"first_name\", \"print_hide\": 0, \"label\": \"First Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"middle_name\", \"print_hide\": 0, \"label\": \"Middle Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"last_name\", \"print_hide\": 0, \"label\": \"Last Name\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"nationality\", \"print_hide\": 0, \"label\": \"Nationality\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set fees = frappe.get_all('Fees', filters={'student': doc.name, 'docstatus': 1}, fields=['name', 'program', 'grand_total']) %}\\n<br><br>\\n{% for fee in fees %}\\n    {% set ns = namespace(total=0) %}\\n    <b>{{ fee.program }} Initial Fee Amount {{ fee.grand_total }}</b><br>\\n    \\n    <table style=\\\"font-size:small\\\">\\n    {% set payment_references = frappe.get_all('Payment Entry Reference', filters={'reference_name': fee.name, 'docstatus': 1}, fields=['reference_name', 'total_amount', 'outstanding_amount', 'allocated_amount', 'creation', 'parent']) %}\\n\\n        <tr>\\n            <th>Invoice No</th>\\n            <th>Paid Amount</th>\\n            <th>Balance B/f</th>\\n            <th>Paid on</th>\\n            <th>Ref</th>\\n            <th>Due Balance</th>\\n        </tr>\\n\\n        {% for payment_reference in payment_references %}\\n            {% set ns.total = ns.total + payment_reference.allocated_amount | float %}\\n        {% endfor %}\\n        \\n        {% if payment_references %}\\n            {% set latest_payment = payment_references[0] %}\\n            <tr>\\n                <td>Invoice {{ fee.name }}</td>\\n                <td>Ksh. {{ latest_payment.allocated_amount }}</td>\\n                <td>Ksh. {{ fee.grand_total - ns.total | float }}</td>\\n                <td>{{ latest_payment.creation.strftime(\\\"%Y-%m-%d %H:%M:%S\\\") }}</td>\\n                <td>{{ latest_payment.parent }}</td>\\n                <td><b>Ksh. {{ fee.grand_total - ns.total | float }}</b></td>\\n            </tr>\\n            {% if latest_payment.creation.strftime(\\\"%Y-%m-%d\\\") != frappe.utils.today() %}\\n                <tr>\\n                    <td colspan=\\\"6\\\">No receipt payment for this student today. Please print from payment entries if it's a reprint or print the full student payment history by selecting the full student statement print format.</td>\\n                </tr>\\n            {% endif %}\\n        <!--{% else %}-->\\n        <!--    <tr>-->\\n        <!--        <td colspan=\\\"6\\\">No payment references found for this invoice.</td>-->\\n        <!--    </tr>-->\\n        {% endif %}\\n    </table>\\n\\n    <b>Due Balance: Ksh. {{ fee.grand_total - ns.total | float }}</b><br><br>\\n{% endfor %}\\n\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n<h5>Served By:  {{ frappe.session.user }}<br>\\nMoney Once Payed Can Not Be Refunded.   With thanks ................................</h5>\"}]",
  "html": null,
  "line_breaks": 0,
  "margin_bottom": 2.0,
  "margin_left": 2.0,
  "margin_right": 2.0,
  "margin_top": 2.0,
  "modified": "2024-05-20 11:35:56.093637",
  "module": "Education",
  "name": "tst",
  "page_number": "Hide",
  "pdf_generator": null,
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 },
 {
  "absolute_value": 0,
  "align_labels_right": 0,
  "css": null,
  "custom_format": 1,
  "default_print_language": "en-US",
  "disabled": 0,
  "doc_type": "Assessment Result",
  "docstatus": 0,
  "doctype": "Print Format",
  "font": null,
  "font_size": 14,
  "format_data": null,
  "html": "<h2 style=\"text-align:center;\">Academic Transcript</h2>\n\n<p>Student Name: {{ doc.student_name}}   {% set student = frappe.get_all('Student', filters={'name': doc.student}, fields=['*']) %}      Admission No: {{ doc.student }}<br>\n   \n   Programme/Course: {{doc.course}}                            Exam Series: {{doc.assessment_group}} <br>\n   \n   <!--{{student}}-->\n</p> ",
  "line_breaks": 0,
  "margin_bottom": 15.0,
  "margin_left": 15.0,
  "margin_right": 15.0,
  "margin_top": 15.0,
  "modified": "2024-06-12 09:25:42.879971",
  "module": "Education",
  "name": "Assessment transcript",
  "page_number": "Hide",
  "pdf_generator": null,
  "print_format_builder": 0,
  "print_format_builder_beta": 0,
  "print_format_for": null,
  "print_format_type": "Jinja",
  "raw_commands": null,
  "raw_printing": 0,
  "report": null,
  "show_section_headings": 0,
  "standard": "No"
 }
]